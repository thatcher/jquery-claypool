Claypool.Logging={NullLogger:null,getLogger:null};(function(b,a,c){b.extend(c,{loggerFactory:null,getLogger:function(d){if(!c.loggerFactory){c.loggerFactory=new c.Factory()}if(c.updated){c.loggerFactory.updateConfig();c.updated=false}return c.loggerFactory.create(d)}})})(jQuery,Claypool,Claypool.Logging);(function(b,a,c){c.Level={DEBUG:0,INFO:1,WARN:2,ERROR:3,NONE:4}})(jQuery,Claypool,Claypool.Logging);(function(b,a,c){c.Logger$Interface={debug:function(){throw new a.MethodNotImplementedError()},info:function(){throw new a.MethodNotImplementedError()},warn:function(){throw new a.MethodNotImplementedError()},error:function(){throw new a.MethodNotImplementedError()},exception:function(){throw new a.MethodNotImplementedError()}}})(jQuery,Claypool,Claypool.Logging);(function(b,a,c){c.NullLogger=function(){var d=function(){return this};b.extend(this,{debug:d,info:d,warn:d,error:d,exception:d})}})(jQuery,Claypool,Claypool.Logging);(function(b,a,c){c.Logger=function(d){this.category="root";this.level=null;try{b.extend(true,this,d);this.level=c.Level[this.level?this.level:"NONE"];try{this.appender=new (b.resolve(this.appender||"Claypool.Logging.ConsoleAppender"))(d)}catch(f){try{this.appender=new c.ConsoleAppender(d)}catch(f){this.appender=new c.SysOutAppender(d)}}return this}catch(f){return new c.NullLogger()}};b.extend(c.Logger.prototype,c.Logger$Interface,{debug:function(){if(this.level<=c.Level.DEBUG){this.appender.append("DEBUG",this.category,arguments);return this}else{this.debug=function(){return this}}return this},info:function(){if(this.level<=c.Level.INFO){this.appender.append("INFO",this.category,arguments);return this}else{this.debug=function(){return this}}return this},warn:function(){if(this.level<=c.Level.WARN){this.appender.append("WARN",this.category,arguments);return this}else{this.debug=function(){return this}}return this},error:function(){if(this.level<=c.Level.ERROR){this.appender.append("ERROR",this.category,arguments);return this}else{this.debug=function(){return this}}return this},exception:function(d){if(this.level<c.Level.NONE){if(d){this.appender.append("EXCEPTION",this.category,d);return this}}else{this.debug=function(){return this}}return this}})})(jQuery,Claypool,Claypool.Logging);(function(b,a,c){c.Appender$Interface={formatter:null,append:function(f,e,d){throw new a.MethodNotImplementedError()}}})(jQuery,Claypool,Claypool.Logging);(function(b,a,c){c.SysOutAppender=function(e){var f=function(){var g=null;g.toString()};if(b.isFunction(print)&&(window.load!==undefined)&&b.isFunction(window.load)){try{f()}catch(d){if(d.rhinoException){b.extend(true,this,e);this.formatter=new c.DefaultFormatter(e);return this}}}throw new c.NoAppendersAvailableError()};b.extend(c.SysOutAppender.prototype,c.Appender$Interface,{append:function(g,e,d){switch(g){case"DEBUG":print(this.formatter.format(g,e,d));break;case"INFO":print(this.formatter.format(g,e,d));break;case"WARN":print(this.formatter.format(g,e,d));break;case"ERROR":print(this.formatter.format(g,e,d));break;case ("EXCEPTION"):var f=d&&d.rhinoException?"\n\t"+d.rhinoException.message+"\tcolumn: "+d.rhinoException.columnNumber()+"\tline: "+d.rhinoException.lineNumber():"UNKNOWN RUNTIME ERROR";print(this.formatter.format(g,e,f));break}}})})(jQuery,Claypool,Claypool.Logging);(function(b,a,d){d.ConsoleAppender=function(f){var h;try{if(window&&window.console&&window.console.log){try{if("Envjs" in window){return new d.SysOutAppender(f)}}catch(g){}b.extend(true,this,f);this.formatter=new d.FireBugFormatter(f);return this}else{return new d.SysOutAppender(f)}}catch(g){throw g}return this};function c(f,e){if(f.apply){f.apply(console,e)}else{if(e&&e.length){switch(e.length){case 1:f(e[0]);break;case 2:f(e[0],e[1]);break;case 3:f(e[0],e[1],e[2]);break;case 4:f(e[0],e[1],e[2],e[3]);break;case 5:f(e[0],e[1],e[2],e[3],e[4]);break;case 6:f(e[0],e[1],e[2],e[3],e[4],e[5]);break;case 7:f(e[0],e[1],e[2],e[3],e[4],e[5],e[6]);break;case 8:f(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]);break;case 9:f(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8]);break}}}}b.extend(d.ConsoleAppender.prototype,d.Appender$Interface,{append:function(g,f,e){switch(g){case ("DEBUG"):c(console.log,this.formatter.format(g,f,e));break;case ("INFO"):c(console.info,this.formatter.format(g,f,e));break;case ("WARN"):c(console.warn,this.formatter.format(g,f,e));break;case ("ERROR"):c(console.error,this.formatter.format(g,f,e));break;case ("EXCEPTION"):c(console.error,[printStackTrace({e:e}).join("\n")]);break}}})})(jQuery,Claypool,Claypool.Logging);(function(b,a,c){c.Formatter$Interface={format:function(f,d,e){throw new b.MethodNotImplementedError()}}})(jQuery,Claypool,Claypool.Logging);(function(b,a,c){c.FireBugFormatter=function(d){b.extend(true,this,d)};b.extend(c.FireBugFormatter.prototype,c.Formatter$Interface,{getDateString:function(){return" ["+new Date().toUTCString()+"] "},format:function(h,f,g){var d=f+" "+h+": "+this.getDateString();g=(g&&g.length&&(g.length>0))?g:[];var e=(g.length>0)?g[0]:null;if(typeof(e)!="string"){g.unshift(d)}else{g[0]=d+e}return g}})})(jQuery,Claypool,Claypool.Logging);(function(d,b,f){var e=/((^%|[^\\]%)(\d+)?(\.)([a-zA-Z]))|((^%|[^\\]%)([a-zA-Z]))/,a=/function ?(.*?)\(/,c=/\[object (.*?)\]/;f.DefaultFormatter=function(g){d.extend(true,this,g)};d.extend(f.DefaultFormatter.prototype,f.Formatter$Interface,{getDateString:function(){return" ["+new Date().toUTCString()+"] "},format:function(g,h,q){var j=" "+g+":  "+this.getDateString()+"{"+h+"} ";var k=[j?j:""];var p=q[0];var l=0;if(typeof(p)!="string"){p="";l=-1}var n=this.parseFormat(p);var o;for(o=0;o<n.length;++o){if(n[o]&&typeof(n[o])=="object"){n[o].appender.call(this,q[++l],k)}else{this.appendText(n[o],k)}}for(o=l+1;o<q.length;++o){this.appendText(" ",k);if(typeof(q[o])=="string"){this.appendText(q[o],k)}else{this.appendObject(q[o],k)}}return k.join("")},parseFormat:function(o){var n=[];var h={s:this.appendText,d:this.appendInteger,i:this.appendInteger,f:this.appendFloat};var l;var k;var j;var g;for(g=e.exec(o);g;g=e.exec(o)){l=g[8]?g[8]:g[5];k=l in h?h[l]:this.appendObject;j=g[3]?parseInt(g[3],10):(g[4]=="."?-1:0);n.push(o.substr(0,g[0][0]=="%"?g.index:g.index+1));n.push({appender:k,precision:j});o=o.substr(g.index+g[0].length)}n.push(o);return n},objectToString:function(g){try{return g+""}catch(h){return null}},appendText:function(g,h){h.push(this.objectToString(g))},appendNull:function(g,h){h.push(this.objectToString(g))},appendString:function(g,h){h.push(this.objectToString(g))},appendInteger:function(g,h){h.push(this.objectToString(g))},appendFloat:function(g,h){h.push(this.objectToString(g))},appendFunction:function(j,k){var g=a.exec(this.objectToString(j));var h=g?g[1]:"function";k.push(this.objectToString(h))},appendObject:function(g,j){try{if(g===undefined){this.appendNull("undefined",j)}else{if(g===null){this.appendNull("null",j)}else{if(typeof g=="string"){this.appendString(g,j)}else{if(typeof g=="number"){this.appendInteger(g,j)}else{if(typeof g=="function"){this.appendFunction(g,j)}else{if(g.nodeType==1){this.appendSelector(g,j)}else{if(typeof g=="object"){this.appendObjectFormatted(g,j)}else{this.appendText(g,j)}}}}}}}}catch(h){}},appendObjectFormatted:function(h,k){var j=this.objectToString(h);var g=c.exec(j);k.push(g?g[1]:j)},appendSelector:function(g,h){h.push(g.nodeName.toLowerCase());if(g.id){h.push(g.id)}if(g.className){h.push(g.className)}h.push("</span>")},appendNode:function(j,k){var g;var h;var l;if(j.nodeType==1){k.push("<",j.nodeName.toLowerCase(),">");for(h=0;h<j.attributes.length;++h){g=j.attributes[h];if(!g.specified){continue}k.push(g.nodeName.toLowerCase(),'="',g.nodeValue,'"')}if(j.firstChild){for(l=j.firstChild;l;l=l.nextSibling){this.appendNode(l,html)}k.push("</",j.nodeName.toLowerCase(),">")}else{k.push("/>")}}else{if(j.nodeType==3){k.push(j.nodeValue)}}}})})(jQuery,Claypool,Claypool.Logging);(function(b,a,c){c.Factory=function(d){a.extend(this,a.BaseFactory);this.configurationId="logging";b.extend(true,this,d);this.logger=new c.Logger({category:"Claypool.Logging.Factory",level:"INFO",appender:"Claypool.Logging.ConsoleAppender"});
this.attemptedConfigure=false};b.extend(c.Factory.prototype,a.BaseFactory.prototype,{create:function(g){var d,h,e,f;if(!this.configuration){if(!this.attemptedConfigure){this.logger.warn("Claypool Logging was not initalized correctly. Logging will not occur unless initialized.")}this.attemptedConfigure=true;return new c.NullLogger()}else{d=g.split(".");for(i=0;i<d.length;i++){h=d.slice(0,d.length-i).join(".");e=this.find(h);if(e!==null){e.category=g;return new c.Logger(e)}}f=this.find("root");this.logger.debug("root logging category is set to %s",f);if(f!==null){f.category=g;return new c.Logger(f)}}this.logger.warn("No Matching category: %s Please configure a root logger.",g);return new c.NullLogger()},updateConfig:function(){var j;var g;var f;try{this.logger.debug("Configuring Claypool Logging");this.clear();j=this.getConfig()||[];for(f=0;f<j.length;f++){try{g=j[f];this.add(g.category,g)}catch(d){this.logger.exception(d);return false}}}catch(h){this.logger.exception(h);throw new c.ConfigurationError(h)}return true}})})(jQuery,Claypool,Claypool.Logging);(function(b,a,c){c.ConfigurationError=function(f,d){b.extend(this,new a.ConfigurationError(f,d||{name:"Claypool.Logging.ConfigurationError",message:"An error occured trying to configure the logging system."}))}})(jQuery,Claypool,Claypool.Logging);(function(b,a,c){c.NoAppendersAvailableError=function(f,d){b.extend(this,new a.Error(f,d||{name:"Claypool.Logging.NoAppendersAvailableError",message:"An error occured trying to configure the logging system."}))}})(jQuery,Claypool,Claypool.Logging);(function(c,a,d){c.extend(c,{logger:function(e){return d.getLogger(e)},logging:function(){if(arguments.length===0){return c.config("logging")}else{d.updated=true;return c.config("logging",arguments[0])}}});var b;c.extend(c,{debug:function(){b=b||c.logger("jQuery");b.debug.apply(b,arguments);return this},info:function(){b=b||c.logger("jQuery");b.info.apply(b,arguments);return this},warn:function(){b=b||c.logger("jQuery");b.warn.apply(b,arguments);return this},error:function(){b=b||c.logger("jQuery");b.error.apply(b,arguments);return this},exception:function(){b=b||c.logger("jQuery");b.exception.apply(b,arguments);return this}})})(jQuery,Claypool,Claypool.Logging);function printStackTrace(b){var c=(b&&b.e)?b.e:null;var e=b?!!b.guess:true;var d=new printStackTrace.implementation();var a=d.run(c);return(e)?d.guessFunctions(a):a}printStackTrace.implementation=function(){};printStackTrace.implementation.prototype={run:function(a){a=a||(function(){var c;try{c=__undef__<<1}catch(d){return d}})();var b=this._mode||this.mode(a);if(b==="other"){return this.other(arguments.callee)}else{return this[b](a)}},mode:function(a){if(a["arguments"]){return(this._mode="chrome")}else{if(window.opera&&a.stacktrace){return(this._mode="opera10")}else{if(a.stack){return(this._mode="firefox")}else{if(window.opera&&!("stacktrace" in a)){return(this._mode="opera")}}}}return(this._mode="other")},instrumentFunction:function(a,b,c){a=a||window;a["_old"+b]=a[b];a[b]=function(){c.call(this,printStackTrace());return a["_old"+b].apply(this,arguments)};a[b]._instrumented=true},deinstrumentFunction:function(a,b){if(a[b].constructor===Function&&a[b]._instrumented&&a["_old"+b].constructor===Function){a[b]=a["_old"+b]}},chrome:function(a){return a.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@").split("\n")},firefox:function(a){return a.stack.replace(/(?:\n@:0)?\s+$/m,"").replace(/^\(/gm,"{anonymous}(").split("\n")},opera10:function(g){var k=g.stacktrace;var n=k.split("\n"),a="{anonymous}",h=/.*line (\d+), column (\d+) in ((<anonymous function\:?\s*(\S+))|([^\(]+)\([^\)]*\))(?: in )?(.*)\s*$/i,d,c,f,l,b;for(d=2,c=0,f=n.length;d<f-2;d++){if(h.test(n[d])){l=RegExp.$6+":"+RegExp.$1+":"+RegExp.$2;b=RegExp.$3;b=b.replace(/<anonymous function\:?\s?(\S+)?>/g,a);n[c++]=b+"@"+l}}n.splice(c,n.length-c);return n},opera:function(h){var c=h.message.split("\n"),b="{anonymous}",g=/Line\s+(\d+).*script\s+(http\S+)(?:.*in\s+function\s+(\S+))?/i,f,d,a;for(f=4,d=0,a=c.length;f<a;f+=2){if(g.test(c[f])){c[d++]=(RegExp.$3?RegExp.$3+"()@"+RegExp.$2+RegExp.$1:b+"()@"+RegExp.$2+":"+RegExp.$1)+" -- "+c[f+1].replace(/^\s+/,"")}}c.splice(d,c.length-d);return c},other:function(h){var b="{anonymous}",g=/function\s*([\w\-$]+)?\s*\(/i,a=[],d=0,e,c;var f=10;while(h&&a.length<f){e=g.test(h.toString())?RegExp.$1||b:b;c=Array.prototype.slice.call(h["arguments"]);a[d++]=e+"("+this.stringifyArguments(c)+")";h=h.caller}return a},stringifyArguments:function(b){var a;for(var c=0;c<b.length;++c){a=b[c];if(a===undefined){b[c]="undefined"}else{if(a===null){b[c]="null"}else{if(a.constructor){if(a.constructor===Array){if(a.length<3){b[c]="["+this.stringifyArguments(a)+"]"}else{b[c]="["+this.stringifyArguments(Array.prototype.slice.call(a,0,1))+"..."+this.stringifyArguments(Array.prototype.slice.call(a,-1))+"]"}}else{if(a.constructor===Object){b[c]="#object"}else{if(a.constructor===Function){b[c]="#function"}else{if(a.constructor===String){b[c]='"'+a+'"'}}}}}}}}return b.join(",")},sourceCache:{},ajax:function(a){var b=this.createXMLHTTPObject();if(!b){return}b.open("GET",a,false);b.setRequestHeader("User-Agent","XMLHTTP/1.0");b.send("");return b.responseText},createXMLHTTPObject:function(){var c,a=[function(){return new XMLHttpRequest()},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}];for(var b=0;b<a.length;b++){try{c=a[b]();this.createXMLHTTPObject=a[b];return c}catch(d){}}},isSameDomain:function(a){return a.indexOf(location.hostname)!==-1},getSource:function(a){if(!(a in this.sourceCache)){this.sourceCache[a]=this.ajax(a).split("\n")}return this.sourceCache[a]},guessFunctions:function(a){var c,f,e,b,d;for(c=0;c<a.length;++c){f=/\{anonymous\}\(.*\)@(\w+:\/\/([\-\w\.]+)+(:\d+)?[^:]+):(\d+):?(\d+)?/;e=a[c];m=f.exec(e);if(m){b=m[1];lineno=m[4];if(b&&this.isSameDomain(b)&&lineno){d=this.guessFunctionName(b,lineno);a[c]=e.replace("{anonymous}",d)}}}return a},guessFunctionName:function(a,c){try{return this.guessFunctionNameFromLines(c,this.getSource(a))}catch(b){return"getSource failed with url: "+a+", exception: "+b.toString()}},guessFunctionNameFromLines:function(h,f){var c=/function ([^(]*)\(([^)]*)\)/;var g=/['"]?([0-9A-Za-z_]+)['"]?\s*[:=]\s*(function|eval|new Function)/;var b="",d=10,e,a;for(e=0;e<d;++e){b=f[h-e]+b;if(b!==undefined){a=g.exec(b);if(a&&a[1]){return a[1]}else{a=c.exec(b);if(a&&a[1]){return a[1]}}}}return"(?)"}};